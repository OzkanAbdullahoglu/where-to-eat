(this["webpackJsonpwhere-to-eat"]=this["webpackJsonpwhere-to-eat"]||[]).push([[0],{207:function(e,t,n){e.exports=n(422)},212:function(e,t,n){},421:function(e,t,n){},422:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(30),c=n.n(o),i=(n(212),n(16)),s=n(28),l=n(176),u=n(25),d=n(177),m=n(178),p=n.n(m),g=n(116),f=n(48),h="FETCHED_DATA",b="TOGGLE_PANE",v="TOGGLE_PANE_ONLY",E="DEFAULTS",x={fetchedData:"",togglePane:{toggleSearchBox:!1,toggleCloseButton:!1,toggleLeftPane:!1}},y={setFetchedData:function(e){return function(t){t({type:h,fetchedData:e})}},setTogglePane:function(){return function(e,t){var n=t().map,a=w(n);e({type:b,toggleSearchBox:!a.toggleSearchBox,toggleCloseButton:!a.toggleCloseButton,toggleLeftPane:!a.toggleLeftPane})}},setTogglePaneOnly:function(){return function(e,t){var n=t().map,a=w(n);e({type:v,toggleLeftPane:!a.toggleLeftPane})}}},w=function(e){return e.togglePane},A={getFetchedData:function(e){return e.fetchedData},getLeftPanelStatus:w},k=Object(u.c)({map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(f.a)({},e,{fetchedData:t.fetchedData});case b:return Object(f.a)({},e,{togglePane:{toggleSearchBox:t.toggleSearchBox,toggleCloseButton:t.toggleCloseButton,toggleLeftPane:t.toggleLeftPane}});case v:return Object(f.a)({},e,{togglePane:{toggleLeftPane:t.toggleLeftPane}});case E:return x;default:return e}},version:function(){return{number:"0.0.1"}}}),N=function(e){return A.getFetchedData(e.map)},O=function(e){return A.getLeftPanelStatus(e.map)},j=k,C=n(179),L=n.n(C),S=[d.a],B={key:"root",storage:p.a,timeout:0,stateReconciler:L.a},P=Object(g.a)(B,j),U=Object(u.d)(P,u.a.apply(void 0,S)),z=Object(g.b)(U),D=n(83),T=n(39),X=new T.a,R=new D.a({uri:"https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/graphql",request:function(e){e.setContext({headers:{Authorization:"Bearer ".concat("EsxulzN8fXiwfdxgXhVLs3fQ49k-GzEb5gCIr3-H5cmh0yfSfSEp-azxdtTMvwfG_DQp3fLEfw8thTwCJFnio4zYe4fNgiGv32TNACcQKW8mZ9TBmGfGbtehRywRXnYx"),"Accept-Language":"en-US"}})},cache:X}),I=n(80),Q=n(81),M=n(84),F=n(82),G=n(85),Y=n(21),J=n(113),_=n.n(J),H=n(23),V=n(27);function K(){var e=Object(H.a)(["\n         position: absolute;\n         left: 0px;\n         margin: 8px 0 8px 8px;\n         top: 0px;\n         z-index: 15;\n         transition: left 0.5s;\n         -webkit-transform: ",";\n         transform: ",";\n         transition-property: -webkit-transform, transform, visibility, opacity;\n         transition-duration: 200ms;\n         transition-timing-function: cubic-bezier(0, 0, 0.2, 1);\n         visibility: ",";\n       "]);return K=function(){return e},e}var q=V.a.div(K(),(function(e){return!0===e.closed?"translateX(-408px)":"translateX(0px)"}),(function(e){return!0===e.closed?"translateX(-408px)":"translateX(0px)"}),(function(e){return!0===e.closed?"hidden":"visible"}));_.a.setApiKey("AIzaSyDt0R1NakICIfNoUjNBjQEU3BlIr_QhtHY");var Z,W=function(e){function t(){var e,n;Object(I.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(M.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(o)))).getFocusElement=r.a.createRef(),n.clearQuery=function(){return document.getElementById("searchboxinput").value=""},n.zoomAutocomplete=function(){return new google.maps.places.Autocomplete(document.getElementById("searchboxinput"))},n.zoomToArea=function(){var e=document.getElementById("searchboxinput").value;""===e?alert("You must enter a place name to get results"):_.a.fromAddress(e).then((function(e){var t=e.results[0].geometry.location.lat,a=e.results[0].geometry.location.lng;n.props.markerLocationTrigger(t,a)}),(function(e){alert("Please check your inquiry , server returned following ".concat(e))}))},n}return Object(G.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){this.getFocusElement.current.focus()}},{key:"shouldComponentUpdate",value:function(e){return this.props.isLeftPanelStatus!==e.isLeftPanelStatus}},{key:"componentDidUpdate",value:function(){this.clearQuery()}},{key:"render",value:function(){var e=this.props.isLeftPanelStatus;return r.a.createElement("div",{id:"searchbox-container"},r.a.createElement(q,{closed:e.toggleSearchBox},r.a.createElement("div",{id:"searchbox-single-box"},r.a.createElement("div",{className:"searchbox-singlebox-root searchbox-active"},r.a.createElement("div",{id:"search-box",role:"search",className:"searchbox searchbox-shadow clear-button-shown"},r.a.createElement("form",{id:"search-box-form"},r.a.createElement("input",{ref:this.getFocusElement,"aria-label":"Perform a search in Google maps",id:"searchboxinput",type:"text",name:"search for any location",placeholder:"Search for restaurants",className:"tactile-searchbox-input searchboxinput",onChange:this.zoomAutocomplete,onKeyPress:this.keyPressedSubmit})),r.a.createElement("div",{className:"searchbox-searchbutton-container"},r.a.createElement("button",{className:"searchbox-searchbutton",onClick:this.zoomToArea,"aria-label":"Search"}),r.a.createElement("span",{"aria-hidden":"true",className:"searchbox-tooltip tooltip-dark tooltip-hide"},"Search")),r.a.createElement("button",{className:"clear-button",onClick:this.clearQuery,"aria-label":"Clear search"}))))))}}]),t}(a.Component),$=Object(s.b)((function(e){return{isLeftPanelStatus:O(e)}})),ee=Object(Y.compose)($)(W),te=n(58),ne=n(426),ae=Object(Y.compose)(Object(Y.withProps)({googleMapURL:"https://maps.googleapis.com/maps/api/js?libraries=geometry,places&key=AIzaSyDt0R1NakICIfNoUjNBjQEU3BlIr_QhtHY&v=3.exp",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{className:"container-element"}),mapElement:r.a.createElement("div",{className:"map-element"})}),Object(Y.lifecycle)({componentDidCatch:function(e){alert("".concat(e," Error Occured while trying to render google maps API Please check your credentials"))}}),te.withScriptjs,te.withGoogleMap)((function(e){return e.isFetchedData?(Z=e.isFetchedData.filter((function(e){return null!==e.coordinates})),r.a.createElement(te.GoogleMap,{defaultZoom:11,defaultCenter:{lat:41.0082376,lng:28.9783589},center:e.center,zoom:e.zoom},Z.map((function(t){return r.a.createElement(te.Marker,{position:{lat:t.coordinates.latitude,lng:t.coordinates.longitude},key:t.id,animation:e.markerUniqueKey===t.id&&!0===e.markerClicked&&google.maps.Animation.BOUNCE,onClick:function(){return e=t.url,window.open(e,"_blank");var e}})})))):r.a.createElement(ne.a,{color:"#2E3B4B"})})),re=Object(s.b)((function(e){return{isFetchedData:N(e)}})),oe=Object(Y.compose)(re)(ae),ce=n(202),ie=n(203),se=function(e){var t=e.startStyle;return r.a.createElement("li",{className:"cards-rating-star cards-rating-star".concat(t)})},le=function(e){var t=e.rating,n=e.reviewCount,a=Object(ie.a)(Array(5).keys()),o="";return r.a.createElement("span",null,r.a.createElement("span",{className:"cards-result-rating","aria-label":"".concat(t," stars")},r.a.createElement("span",{className:"cards-rating-score"},t),r.a.createElement("ol",{className:"cards-rating-stars"},a.map((function(e,n){return n===Math.floor(t)&&Math.floor(t)!==t?o="-half":n+1>Math.floor(t)&&(o="-empty"),r.a.createElement(se,{startStyle:o,key:e})})))),r.a.createElement("span",{className:"cards-result-num-ratings"},"".concat(n," reviews")))},ue=function(e){var t=e.cost,n=e.address,a=e.categories;return r.a.createElement("div",{id:"item-details"},r.a.createElement("span",{className:"cards-result-cost"},t),r.a.createElement("span",{className:"cards-result-separator"}," - "),r.a.createElement("span",{className:"cards-result-details"},a.map((function(e){return e.title})).reduce((function(e,t){return"".concat(e,", ").concat(t)}))),r.a.createElement("span",{className:"cards-result-separator"}," - "),r.a.createElement("span",{className:"cards-result-location"},n))},de=function(e){var t=e.name,n=e.itemRate,a=e.reviewCounts,o=e.itemCost,c=e.itemAddress,i=e.itemHours,s=e.imageURL,l=e.yelpURL,u=e.itemCategories;return r.a.createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"cards-result"},r.a.createElement("div",{className:"cards-result-content"},r.a.createElement("div",{className:"cards-result-text-content"},r.a.createElement("div",{className:"cards-result-header"},r.a.createElement("div",{className:"cards-result-title-container"},r.a.createElement("h3",{className:"cards-result-title"},r.a.createElement("span",null,t)),r.a.createElement(le,{rating:n,reviewCount:a}))),r.a.createElement("div",{className:"cards-result-details-container"},r.a.createElement(ue,{cost:o,address:c,categories:u})),r.a.createElement("div",{className:"cards-result-opening-hours"},function(e){var t="",n="",a="",r=new Date,o=r.getDay(),c=parseInt("".concat(JSON.stringify(r.getHours())).concat(JSON.stringify(r.getMinutes())),10);if(void 0===e||void 0===e.open[o])return"";var i=parseInt(e.open[o].end,10),s="".concat(e.open[o].start.slice(0,2),":").concat(e.open[o].start.slice(2)),l="".concat(e.open[o].end.slice(0,2),":").concat(e.open[o].end.slice(2));return i-c<100?n="Close soon ".concat(l):c>i||c<i?t="Opens at ".concat(s):a="Open until ".concat(l),n||t||a}(i[0]))),r.a.createElement("div",{className:"cards-image-container"},r.a.createElement("div",{className:"cards-result-image",style:{backgroundImage:"url(".concat(s,"), url(").concat("https://via.placeholder.com/80x92.png/ffdede/304368?text=NO+PHOTO",")")}})))),r.a.createElement("div",{className:"cards-divider-bottom-line"}))};function me(){var e=Object(H.a)(["\n         width: 408px;\n         position: absolute;\n         top: 0;\n         z-index: 3;\n         opacity: 1;\n         height: ",";\n         left: 0;\n         -webkit-transform: ",";\n         transform: ",";\n         transition-property: -webkit-transform, transform, opacity;\n         transition-duration: 0.2s;\n         transition-timing-function: linear;\n         box-shadow: ",";\n         background: #fff;\n         @media (max-width: 414px) {\n           width: 414px;\n           -webkit-transform: ",";\n           transform: ","};\n         }\n         @media (max-width: 411px) {\n           width: 411px;\n           -webkit-transform: ",";\n           transform: ",";\n         }\n         @media (max-width: 375px) {\n           width: 375px;\n           -webkit-transform: ",";\n           transform: ",";\n         }\n         @media (max-width: 360px) {\n           width: 360px;\n           -webkit-transform: ",";\n           transform: ",";\n         }\n         @media (max-width: 320px) {\n           width: 320px;\n           -webkit-transform: ",";\n           transform: ",";\n         }\n       "]);return me=function(){return e},e}var pe=function(e,t){return!0===t.closed?"translateX(".concat(e,"px)"):"translateX(0px)"},ge=V.a.div(me(),(function(e){return!0===e.closed?0:"100%"}),(function(e){return pe(-408,e)}),(function(e){return pe(-408,e)}),(function(e){return!0===e.closed?"none":"0 0 20px rgba(0, 0, 0, 0.3)"}),(function(e){return pe(-414,e)}),(function(e){return pe(-414,e)}),(function(e){return pe(-411,e)}),(function(e){return pe(-411,e)}),(function(e){return pe(-375,e)}),(function(e){return pe(-375,e)}),(function(e){return pe(-360,e)}),(function(e){return pe(-360,e)}),(function(e){return pe(-320,e)}),(function(e){return pe(-320,e)}));function fe(){var e=Object(H.a)(["\n         width: 23px;\n         height: 48px;\n         cursor: pointer;\n         background: rgba(255, 255, 255, 0.9) "," 7px center/7px\n           10px no-repeat;\n         border-left: 1px solid #d4d4d4;\n         box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.3);\n         -webkit-transform: ",";\n         transform: ",";\n         @media (max-width: 414px) {\n           display: none;\n         }\n         &:hover {\n           background-color: #fffafb;\n         }\n       "]);return fe=function(){return e},e}var he=V.a.button(fe(),"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAUCAQAAAAXDMSnAAAAi0lEQVR4AX3JQcqBURQG4O/+9WNG30D3vOfSDTuQsgcZyBakZANSzMVMBme3zsBI5/VMn4ZKLP5ki1E4tYejWpilxVUtzOEUD68odYmXR5BJNp/4zllXD2phllYvamHmirsayUkfJ5ruHzueTldC08kcT5YOY9xYujqQM03XKXuaLmEtNF1e1Nz89gbL+0do6OEwRwAAAABJRU5ErkJggg==)",(function(e){return!0===e.closed?"scaleX(-1)":"scaleX(1)"}),(function(e){return!0===e.closed?"scaleX(-1)":"scaleX(1)"}));function be(){var e=Object(H.a)(["\n         width: 23px;\n         height: 48px;\n         cursor: pointer;\n         background: rgba(255, 255, 255, 0.9) "," 7px center/7px\n           10px no-repeat;\n         border-left: 1px solid #d4d4d4;\n         box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.3);\n         -webkit-transform: scaleX(-1);\n         transform: scaleX(-1);\n         &:hover {\n           background-color: #fffafb;\n         }\n         @media (min-width: 768px) {\n           display: none;\n         }\n       "]);return be=function(){return e},e}var ve=V.a.button(be(),"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAUCAQAAAAXDMSnAAAAi0lEQVR4AX3JQcqBURQG4O/+9WNG30D3vOfSDTuQsgcZyBakZANSzMVMBme3zsBI5/VMn4ZKLP5ki1E4tYejWpilxVUtzOEUD68odYmXR5BJNp/4zllXD2phllYvamHmirsayUkfJ5ruHzueTldC08kcT5YOY9xYujqQM03XKXuaLmEtNF1e1Nz89gbL+0do6OEwRwAAAABJRU5ErkJggg==)");function Ee(){var e=Object(H.a)(["\n         display: none;\n         ",":hover & {\n           display: block;\n           z-index: 100;\n           padding: 2px 8px;\n           border-radius: 6px;\n           white-space: nowrap;\n           background-color: #2b6aff;\n           color: #eff0f3;\n           font-family: Arial, Helvetica, sans-serif;\n           font-size: 1rem;\n           font-weight: 400;\n           line-height: 1.25rem;\n           box-shadow: 0 4px 10px rgba(170, 170, 170, 0.75);\n           position: absolute;\n           left: 100%;\n           top: 50%;\n           -webkit-transform: translateY(-50%);\n           transform: translateY(-50%);\n           margin-left: 8px;\n           line-height: 22px;\n           white-space: nowrap;\n           transition-duration: 0.3s;\n           transition-timing-function: linear;\n         }\n       "]);return Ee=function(){return e},e}var xe=V.a.span(Ee(),he);function ye(){var e=Object(H.a)(['\n  query Search($latitude: Float!, $longitude: Float!) {\n    search(\n      term: "restaurants"\n      latitude: $latitude\n      longitude: $longitude\n      limit: 40\n    ) {\n      total\n      business {\n        location {\n          address1\n          address2\n          address3\n          city\n          state\n          postal_code\n          country\n        }\n        hours {\n          open {\n            is_overnight\n            end\n            start\n            day\n          }\n        }\n        categories {\n          title\n          alias\n          parent_categories {\n            title\n            alias\n          }\n        }\n        coordinates {\n          latitude\n          longitude\n        }\n        id\n        name\n        rating\n        review_count\n        price\n        url\n        photos\n      }\n    }\n  }\n']);return ye=function(){return e},e}var we=Object(D.b)(ye()),Ae=Object(s.b)((function(e){return{isLeftPanelStatus:O(e)}}),Object(f.a)({},y)),ke=Object(Y.compose)(Ae)((function(e){var t=e.lat,n=e.lng,a=e.setFetchedData,o=e.setTogglePane,c=e.setTogglePaneOnly,i=e.isLeftPanelStatus,s=e.userLocationUpdate,l=Object(ce.a)(we,{variables:{latitude:t,longitude:n}}),u=l.loading,d=l.error,m=l.data;if(u)return r.a.createElement("div",{id:"pane"},r.a.createElement(ge,{closed:i.toggleLeftPane},r.a.createElement("div",{className:"left-pane-content-holder"},r.a.createElement("div",{className:"cards-layout cards-layout-root",tabIndex:"-1"},r.a.createElement("div",{className:"cards-searchbox-spacer"}),r.a.createElement(ne.a,{color:"#2E3B4B"})))));if(d)return"Error! ".concat(d);var p=m.search.business,g=p.length;return a(p),r.a.createElement("div",{id:"pane"},r.a.createElement(ge,{closed:i.toggleLeftPane},r.a.createElement("div",{className:"left-pane-content scrollable-y",tabIndex:"-1"},r.a.createElement("div",{className:"left-pane-content-holder"},r.a.createElement("div",{className:"cards-layout cards-layout-root",tabIndex:"-1"},r.a.createElement("div",{className:"cards-searchbox-spacer"}),r.a.createElement("div",{className:"cards-layout cards-layout-flex-horizontal",tabIndex:"-1"},r.a.createElement("button",{className:"header-buttons",onClick:s},"Use my location"),r.a.createElement("button",{className:"header-buttons hide-larger-device",onClick:c},"Show on map")),r.a.createElement("div",{className:"cards-divider cards-divider-bottom-line"}),r.a.createElement("div",{className:"cards-layout cards-scrollbox scrollable-y cards-layout-flex-vertical",tabIndex:"-1"},p.map((function(e){return r.a.createElement(de,{key:e.id,name:e.name,itemRate:e.rating,reviewCounts:e.review_count,itemCost:e.price,itemAddress:"".concat(e.location.address1," ").concat(e.location.address1," ").concat(e.location.city),itemHours:e.hours,imageURL:e.photos,yelpURL:e.url,itemCategories:e.categories})})),r.a.createElement("div",{className:"left-pane-footer"},"Total ".concat(g," items in the list")))))),r.a.createElement("div",{className:"left-pane-toggle-button-container"},r.a.createElement(he,{onClick:o,closed:i.toggleCloseButton},r.a.createElement(xe,null,"Collapse side panel"))),r.a.createElement("div",{className:"custom-pane-toggle-button-container"},r.a.createElement(ve,{onClick:c,closed:i.toggleCloseButton}))))})),Ne=function(e){function t(){var e,n;Object(I.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(M.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={center:{lat:41.0082376,lng:28.9783589},zoom:12},n.markerLocationUpdate=function(e,t){n.setState({center:{lat:e,lng:t}}),n.setState({zoom:15})},n.zoomToUserLocation=function(){navigator.geolocation?(n.geoSuccess=function(e){var t=e.coords.latitude,a=e.coords.longitude;n.setState({lat:t,lng:a}),n.markerLocationUpdate(t,a)},n.geoError=function(e){switch(e.code){case 0:alert("Unknown error occured while attempting to identify user location");break;case 1:alert("Permission denied!");break;case 2:alert("Position is unavailable");break;case 3:alert("Operation time out");break;default:console.log(e.code)}},navigator.geolocation.getCurrentPosition(n.geoSuccess,n.geoError)):console.log("Geolocation is not supported for this Browser/OS.")},n}return Object(G.a)(t,e),Object(Q.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.state,a=n.center,r=n.zoom;return a!==t.center||r!==t.zoom||this.props.isFetchedData!==e.isFetchedData}},{key:"render",value:function(){var e=this.state.center,t=e.lat,n=e.lng;return r.a.createElement("div",{className:"main-container",role:"main"},r.a.createElement("div",{id:"map-container",role:"application","aria-label":"Google Map Container"},r.a.createElement(ke,{lat:t,lng:n,userLocationUpdate:this.zoomToUserLocation}),r.a.createElement(oe,{center:this.state.center,zoom:this.state.zoom}),r.a.createElement(ee,{markerLocationTrigger:this.markerLocationUpdate})))}}]),t}(a.Component),Oe=Object(s.b)((function(e){return{isFetchedData:N(e)}})),je=Object(Y.compose)(Oe)(Ne);n(421);var Ce=function(){return r.a.createElement(s.a,{store:U},r.a.createElement(l.a,{loading:null,persistor:z},r.a.createElement(i.a,{client:R},r.a.createElement(je,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[207,1,2]]]);
//# sourceMappingURL=main.e116427a.chunk.js.map